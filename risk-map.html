<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PULSE DENGUE - Interactive Risk Map</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #00D9FF;
            --secondary: #FF6B35;
            --success: #00E676;
            --warning: #FFD700;
            --danger: #FF4444;
            --purple: #9B59B6;
            --bg-dark: #0A0A0F;
            --bg-darker: #050508;
            --bg-card: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.08);
            --text-primary: #FFFFFF;
            --text-secondary: rgba(255, 255, 255, 0.6);
            --text-muted: rgba(255, 255, 255, 0.4);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: var(--bg-darker); min-height: 100vh; color: var(--text-primary); }
        
        .header { background: rgba(10,10,15,0.95); backdrop-filter: blur(20px); border-bottom: 1px solid var(--border); padding: 16px 32px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; }
        .header-left { display: flex; align-items: center; gap: 20px; }
        .back-btn { width: 44px; height: 44px; background: var(--bg-card); border: 1px solid var(--border); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: var(--text-secondary); text-decoration: none; transition: all 0.2s; }
        .back-btn:hover { border-color: var(--primary); color: var(--primary); }
        .logo { display: flex; align-items: center; gap: 12px; }
        .logo-icon { width: 44px; height: 44px; background: linear-gradient(135deg, var(--primary) 0%, var(--success) 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 20px; color: var(--bg-dark); }
        .logo-text { font-family: 'Space Grotesk', sans-serif; font-size: 20px; font-weight: 700; }
        .logo-text span { color: var(--primary); }
        .header-actions { display: flex; gap: 12px; }
        .btn { padding: 10px 20px; border-radius: 10px; font-weight: 600; cursor: pointer; transition: all 0.2s; border: none; display: flex; align-items: center; gap: 8px; font-size: 13px; }
        .btn-primary { background: var(--primary); color: var(--bg-dark); }
        .btn-outline { background: transparent; border: 1px solid var(--border); color: var(--text-secondary); }
        .btn:hover { transform: translateY(-2px); }

        .main { display: grid; grid-template-columns: 1fr 380px; height: calc(100vh - 76px); }
        
        /* Map Area */
        .map-area { position: relative; background: linear-gradient(135deg, #0a1628 0%, #0d0d15 100%); overflow: hidden; }
        .map-grid { position: absolute; inset: 0; display: grid; grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(4, 1fr); gap: 4px; padding: 40px; }
        .map-zone { border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s; position: relative; border: 2px solid transparent; }
        .map-zone:hover { transform: scale(1.02); z-index: 10; }
        .map-zone.selected { border-color: white; box-shadow: 0 0 30px rgba(255,255,255,0.3); }
        .map-zone.critical { background: rgba(255,68,68,0.4); }
        .map-zone.high { background: rgba(255,107,53,0.35); }
        .map-zone.medium { background: rgba(255,215,0,0.3); }
        .map-zone.low { background: rgba(0,230,118,0.25); }
        .map-zone.very-low { background: rgba(0,217,255,0.2); }
        .zone-name { font-size: 11px; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px; opacity: 0.8; }
        .zone-risk { font-family: 'Space Grotesk', sans-serif; font-size: 28px; font-weight: 700; }
        .map-zone.critical .zone-risk { color: var(--danger); }
        .map-zone.high .zone-risk { color: var(--secondary); }
        .map-zone.medium .zone-risk { color: var(--warning); }
        .map-zone.low .zone-risk { color: var(--success); }
        .map-zone.very-low .zone-risk { color: var(--primary); }
        .zone-pharmacies { font-size: 10px; color: var(--text-muted); margin-top: 4px; }
        .zone-pulse { position: absolute; inset: 0; border-radius: 16px; animation: zone-pulse 2s infinite; pointer-events: none; }
        .map-zone.critical .zone-pulse { box-shadow: inset 0 0 30px rgba(255,68,68,0.5); }
        @keyframes zone-pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        /* Map Controls */
        .map-controls { position: absolute; bottom: 24px; left: 24px; display: flex; gap: 8px; }
        .map-control { width: 44px; height: 44px; background: rgba(10,10,15,0.9); backdrop-filter: blur(10px); border: 1px solid var(--border); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: var(--text-secondary); cursor: pointer; transition: all 0.2s; }
        .map-control:hover { border-color: var(--primary); color: var(--primary); }
        
        .map-legend { position: absolute; bottom: 24px; right: 24px; background: rgba(10,10,15,0.9); backdrop-filter: blur(10px); border: 1px solid var(--border); border-radius: 12px; padding: 16px; }
        .legend-title { font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: var(--text-muted); margin-bottom: 12px; }
        .legend-item { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; font-size: 12px; }
        .legend-item:last-child { margin-bottom: 0; }
        .legend-color { width: 24px; height: 12px; border-radius: 4px; }
        .legend-color.critical { background: var(--danger); }
        .legend-color.high { background: var(--secondary); }
        .legend-color.medium { background: var(--warning); }
        .legend-color.low { background: var(--success); }
        .legend-color.very-low { background: var(--primary); }

        /* Sidebar */
        .sidebar { background: var(--bg-dark); border-left: 1px solid var(--border); overflow-y: auto; }
        .sidebar-header { padding: 24px; border-bottom: 1px solid var(--border); }
        .sidebar-title { font-family: 'Space Grotesk', sans-serif; font-size: 18px; font-weight: 600; margin-bottom: 4px; }
        .sidebar-subtitle { font-size: 13px; color: var(--text-secondary); }
        
        .zone-detail { padding: 24px; }
        .detail-header { display: flex; align-items: center; gap: 16px; margin-bottom: 24px; }
        .detail-icon { width: 56px; height: 56px; border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 24px; }
        .detail-icon.critical { background: rgba(255,68,68,0.2); color: var(--danger); }
        .detail-icon.high { background: rgba(255,107,53,0.2); color: var(--secondary); }
        .detail-info h3 { font-size: 20px; font-weight: 600; margin-bottom: 4px; }
        .detail-info p { font-size: 13px; color: var(--text-secondary); }
        
        .risk-meter { margin-bottom: 24px; }
        .risk-meter-label { display: flex; justify-content: space-between; font-size: 12px; color: var(--text-muted); margin-bottom: 8px; }
        .risk-meter-bar { height: 12px; background: rgba(255,255,255,0.1); border-radius: 6px; overflow: hidden; }
        .risk-meter-fill { height: 100%; border-radius: 6px; transition: width 0.5s ease; }
        .risk-meter-fill.critical { background: linear-gradient(90deg, var(--secondary), var(--danger)); }
        
        .detail-stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 24px; }
        .detail-stat { background: var(--bg-card); border: 1px solid var(--border); border-radius: 12px; padding: 16px; }
        .detail-stat-value { font-family: 'Space Grotesk', sans-serif; font-size: 24px; font-weight: 700; margin-bottom: 4px; }
        .detail-stat-label { font-size: 11px; color: var(--text-muted); }
        
        .detail-section { margin-bottom: 24px; }
        .detail-section-title { font-size: 13px; font-weight: 600; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .detail-section-title i { color: var(--primary); }
        
        .pharmacy-mini { display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg-card); border-radius: 10px; margin-bottom: 8px; }
        .pharmacy-mini-icon { width: 36px; height: 36px; background: rgba(0,217,255,0.15); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: var(--primary); }
        .pharmacy-mini-info { flex: 1; }
        .pharmacy-mini-name { font-size: 13px; font-weight: 500; }
        .pharmacy-mini-reports { font-size: 11px; color: var(--text-muted); }
        .pharmacy-mini-status { width: 8px; height: 8px; border-radius: 50%; background: var(--success); }
        
        .alert-mini { display: flex; gap: 12px; padding: 12px; background: rgba(255,68,68,0.1); border: 1px solid rgba(255,68,68,0.2); border-radius: 10px; margin-bottom: 8px; }
        .alert-mini-icon { color: var(--danger); }
        .alert-mini-content { flex: 1; }
        .alert-mini-title { font-size: 12px; font-weight: 500; margin-bottom: 2px; }
        .alert-mini-time { font-size: 10px; color: var(--text-muted); }

        .action-buttons { display: flex; flex-direction: column; gap: 8px; }
        .action-btn { padding: 12px 16px; background: var(--bg-card); border: 1px solid var(--border); border-radius: 10px; display: flex; align-items: center; gap: 12px; cursor: pointer; transition: all 0.2s; text-decoration: none; color: inherit; }
        .action-btn:hover { border-color: var(--primary); background: rgba(0,217,255,0.1); }
        .action-btn i { width: 20px; color: var(--primary); }
        .action-btn span { font-size: 13px; }

        @media (max-width: 1024px) {
            .main { grid-template-columns: 1fr; }
            .sidebar { display: none; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-left">
            <a href="dashboard.html" class="back-btn"><i class="fas fa-arrow-left"></i></a>
            <div class="logo">
                <div class="logo-icon"><i class="fas fa-map-marked-alt"></i></div>
                <div class="logo-text">Risk<span>Map</span></div>
            </div>
        </div>
        <div class="header-actions">
            <button class="btn btn-outline"><i class="fas fa-layer-group"></i> Layers</button>
            <button class="btn btn-outline"><i class="fas fa-clock"></i> Historical</button>
            <button class="btn btn-primary"><i class="fas fa-download"></i> Export</button>
        </div>
    </header>

    <main class="main">
        <div class="map-area">
            <div class="map-grid">
                <!-- Row 1 -->
                <div class="map-zone very-low" onclick="selectZone('nw1')">
                    <span class="zone-name">NW-1</span>
                    <span class="zone-risk">12%</span>
                    <span class="zone-pharmacies">2 pharmacies</span>
                </div>
                <div class="map-zone low" onclick="selectZone('nw2')">
                    <span class="zone-name">NW-2</span>
                    <span class="zone-risk">28%</span>
                    <span class="zone-pharmacies">1 pharmacy</span>
                </div>
                <div class="map-zone critical selected" onclick="selectZone('north')">
                    <div class="zone-pulse"></div>
                    <span class="zone-name">North</span>
                    <span class="zone-risk">87%</span>
                    <span class="zone-pharmacies">6 pharmacies</span>
                </div>
                <div class="map-zone high" onclick="selectZone('ne1')">
                    <span class="zone-name">NE-1</span>
                    <span class="zone-risk">62%</span>
                    <span class="zone-pharmacies">2 pharmacies</span>
                </div>
                <div class="map-zone medium" onclick="selectZone('ne2')">
                    <span class="zone-name">NE-2</span>
                    <span class="zone-risk">45%</span>
                    <span class="zone-pharmacies">1 pharmacy</span>
                </div>
                <!-- Row 2 -->
                <div class="map-zone low" onclick="selectZone('w1')">
                    <span class="zone-name">West-1</span>
                    <span class="zone-risk">22%</span>
                    <span class="zone-pharmacies">1 pharmacy</span>
                </div>
                <div class="map-zone medium" onclick="selectZone('w2')">
                    <span class="zone-name">West-2</span>
                    <span class="zone-risk">38%</span>
                    <span class="zone-pharmacies">2 pharmacies</span>
                </div>
                <div class="map-zone high" onclick="selectZone('center')">
                    <span class="zone-name">Center</span>
                    <span class="zone-risk">56%</span>
                    <span class="zone-pharmacies">4 pharmacies</span>
                </div>
                <div class="map-zone high" onclick="selectZone('east')">
                    <span class="zone-name">East</span>
                    <span class="zone-risk">63%</span>
                    <span class="zone-pharmacies">5 pharmacies</span>
                </div>
                <div class="map-zone medium" onclick="selectZone('e2')">
                    <span class="zone-name">East-2</span>
                    <span class="zone-risk">41%</span>
                    <span class="zone-pharmacies">2 pharmacies</span>
                </div>
                <!-- Row 3 -->
                <div class="map-zone very-low" onclick="selectZone('sw1')">
                    <span class="zone-name">SW-1</span>
                    <span class="zone-risk">15%</span>
                    <span class="zone-pharmacies">1 pharmacy</span>
                </div>
                <div class="map-zone low" onclick="selectZone('sw2')">
                    <span class="zone-name">SW-2</span>
                    <span class="zone-risk">25%</span>
                    <span class="zone-pharmacies">1 pharmacy</span>
                </div>
                <div class="map-zone low" onclick="selectZone('south')">
                    <span class="zone-name">South</span>
                    <span class="zone-risk">18%</span>
                    <span class="zone-pharmacies">3 pharmacies</span>
                </div>
                <div class="map-zone low" onclick="selectZone('se1')">
                    <span class="zone-name">SE-1</span>
                    <span class="zone-risk">21%</span>
                    <span class="zone-pharmacies">2 pharmacies</span>
                </div>
                <div class="map-zone very-low" onclick="selectZone('se2')">
                    <span class="zone-name">SE-2</span>
                    <span class="zone-risk">9%</span>
                    <span class="zone-pharmacies">1 pharmacy</span>
                </div>
                <!-- Row 4 -->
                <div class="map-zone very-low" onclick="selectZone('rural1')">
                    <span class="zone-name">Rural-W</span>
                    <span class="zone-risk">8%</span>
                    <span class="zone-pharmacies">0 pharmacies</span>
                </div>
                <div class="map-zone very-low" onclick="selectZone('rural2')">
                    <span class="zone-name">Rural-SW</span>
                    <span class="zone-risk">5%</span>
                    <span class="zone-pharmacies">0 pharmacies</span>
                </div>
                <div class="map-zone very-low" onclick="selectZone('rural3')">
                    <span class="zone-name">Rural-S</span>
                    <span class="zone-risk">7%</span>
                    <span class="zone-pharmacies">1 pharmacy</span>
                </div>
                <div class="map-zone very-low" onclick="selectZone('rural4')">
                    <span class="zone-name">Rural-SE</span>
                    <span class="zone-risk">6%</span>
                    <span class="zone-pharmacies">0 pharmacies</span>
                </div>
                <div class="map-zone very-low" onclick="selectZone('rural5')">
                    <span class="zone-name">Rural-E</span>
                    <span class="zone-risk">4%</span>
                    <span class="zone-pharmacies">0 pharmacies</span>
                </div>
            </div>

            <div class="map-controls">
                <div class="map-control"><i class="fas fa-plus"></i></div>
                <div class="map-control"><i class="fas fa-minus"></i></div>
                <div class="map-control"><i class="fas fa-expand"></i></div>
                <div class="map-control"><i class="fas fa-crosshairs"></i></div>
            </div>

            <div class="map-legend">
                <div class="legend-title">Risk Level</div>
                <div class="legend-item"><span class="legend-color critical"></span> Critical (75-100%)</div>
                <div class="legend-item"><span class="legend-color high"></span> High (50-75%)</div>
                <div class="legend-item"><span class="legend-color medium"></span> Medium (30-50%)</div>
                <div class="legend-item"><span class="legend-color low"></span> Low (15-30%)</div>
                <div class="legend-item"><span class="legend-color very-low"></span> Very Low (0-15%)</div>
            </div>
        </div>

        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">Zone Details</div>
                <div class="sidebar-subtitle">Click a zone to view details</div>
            </div>
            
            <div class="zone-detail">
                <div class="detail-header">
                    <div class="detail-icon critical"><i class="fas fa-exclamation-triangle"></i></div>
                    <div class="detail-info">
                        <h3>North Zone</h3>
                        <p>Critical outbreak risk detected</p>
                    </div>
                </div>

                <div class="risk-meter">
                    <div class="risk-meter-label">
                        <span>Risk Level</span>
                        <span style="color: var(--danger); font-weight: 600;">87%</span>
                    </div>
                    <div class="risk-meter-bar">
                        <div class="risk-meter-fill critical" style="width: 87%;"></div>
                    </div>
                </div>

                <div class="detail-stats">
                    <div class="detail-stat">
                        <div class="detail-stat-value" style="color: var(--danger);">+47%</div>
                        <div class="detail-stat-label">Antipyretics (7d)</div>
                    </div>
                    <div class="detail-stat">
                        <div class="detail-stat-value" style="color: var(--secondary);">+62%</div>
                        <div class="detail-stat-label">Repellents (7d)</div>
                    </div>
                    <div class="detail-stat">
                        <div class="detail-stat-value">6</div>
                        <div class="detail-stat-label">Pharmacies</div>
                    </div>
                    <div class="detail-stat">
                        <div class="detail-stat-value">234</div>
                        <div class="detail-stat-label">Reports (30d)</div>
                    </div>
                </div>

                <div class="detail-section">
                    <div class="detail-section-title"><i class="fas fa-store"></i> Pharmacies in Zone</div>
                    <div class="pharmacy-mini">
                        <div class="pharmacy-mini-icon"><i class="fas fa-store"></i></div>
                        <div class="pharmacy-mini-info">
                            <div class="pharmacy-mini-name">Farmacia Central</div>
                            <div class="pharmacy-mini-reports">48 reports this week</div>
                        </div>
                        <div class="pharmacy-mini-status"></div>
                    </div>
                    <div class="pharmacy-mini">
                        <div class="pharmacy-mini-icon"><i class="fas fa-store"></i></div>
                        <div class="pharmacy-mini-info">
                            <div class="pharmacy-mini-name">Farmacia del Norte</div>
                            <div class="pharmacy-mini-reports">35 reports this week</div>
                        </div>
                        <div class="pharmacy-mini-status"></div>
                    </div>
                    <div class="pharmacy-mini">
                        <div class="pharmacy-mini-icon"><i class="fas fa-store"></i></div>
                        <div class="pharmacy-mini-info">
                            <div class="pharmacy-mini-name">Farmacia Equipetrol</div>
                            <div class="pharmacy-mini-reports">42 reports this week</div>
                        </div>
                        <div class="pharmacy-mini-status"></div>
                    </div>
                </div>

                <div class="detail-section">
                    <div class="detail-section-title"><i class="fas fa-bell"></i> Active Alerts</div>
                    <div class="alert-mini">
                        <div class="alert-mini-icon"><i class="fas fa-exclamation-circle"></i></div>
                        <div class="alert-mini-content">
                            <div class="alert-mini-title">Critical outbreak pattern detected</div>
                            <div class="alert-mini-time">2 hours ago</div>
                        </div>
                    </div>
                    <div class="alert-mini">
                        <div class="alert-mini-icon"><i class="fas fa-exclamation-circle"></i></div>
                        <div class="alert-mini-content">
                            <div class="alert-mini-title">Fumigation recommended</div>
                            <div class="alert-mini-time">6 hours ago</div>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <div class="detail-section-title"><i class="fas fa-tasks"></i> Quick Actions</div>
                    <div class="action-buttons">
                        <a href="fumigation.html" class="action-btn">
                            <i class="fas fa-truck"></i>
                            <span>Schedule Fumigation</span>
                        </a>
                        <a href="alerts.html" class="action-btn">
                            <i class="fas fa-bell"></i>
                            <span>Send Community Alert</span>
                        </a>
                        <a href="reports.html" class="action-btn">
                            <i class="fas fa-file-alt"></i>
                            <span>Generate Report</span>
                        </a>
                    </div>
                </div>
            </div>
        </aside>
    </main>

    <script>
        function selectZone(zoneId) {
            document.querySelectorAll('.map-zone').forEach(z => z.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            // In a real app, this would load zone-specific data
            console.log('Selected zone:', zoneId);
        }
    </script>
</body>
</html>
